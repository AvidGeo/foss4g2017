<html>

<head>
	<title>Tessie the FOSS4G Boston 2017 Ambassador</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<style>
		#map {
			height: 100%
		}
	</style>
</head>

<body>

	<div id="map"></div>

	<script>
		$(document).ready(function() {

			// initialize the map
			var map = L.map('map');
			window.map = map;

			// load a tile layer
			// create the tile layer with correct attribution
			var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
			var osmAttrib = 'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
			var osm = new L.TileLayer(osmUrl, {
				minZoom: 3,
				maxZoom: 12,
				attribution: osmAttrib
			});

			// start the map in South-East England
			map.setView(new L.LatLng(45, -31), 4);
			map.addLayer(osm);

			// load GeoJSON from an external file
			$.getJSON("http://2017.foss4g.org/tessie/map.geojson", function(data) {
				// add GeoJSON layer to the map once the file is loaded
				L.geoJson(data, {
					onEachFeature: function(feature, layer) {
						var featureHost = feature.properties.host;
						var popupText = "<p>Host: <a href=\"http:twitter.com/" +
							featureHost + "\">@" + featureHost + "</a></p>";
						layer.bindPopup(popupText);
					}
				}).addTo(map);
			});
		});
	</script>
</body>

</html>
